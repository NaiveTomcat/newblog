<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>在机械革命Umi Pro 3的Windows上安装tensorflow的踩坑记录（With RTX 3060 Laptop） | NaiveTomcat&#39;s blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/img/favicon.ico">
    <script src="https://www.googletagmanager.com/gtag/js?id=G-DRRYLMDHK1" async="true"></script>
    <script> window.dataLayer = window.dataLayer || [];                function gtag(){dataLayer.push(arguments);}                gtag('js', new Date());                gtag('config', 'G-DRRYLMDHK1');</script>
    <meta name="description" content="NaiveTomcat的博客，什么都写，Linux使用&踩坑，深度学习，后端开发，程序语言等">
    <meta name="keywords" content="个人技术博客,后端,后端开发,技术文档,学习,面试,程序语言,编译器去,go,c++,alolang,git,github,markdown">
    <meta name="theme-color" content="#11a8cd">
    <meta name="baidu-site-verification" content="code-RQXBsNYt4g">
    <link rel="preload" href="/assets/css/0.styles.f9eb632a.css" as="style"><link rel="preload" href="/assets/js/app.c7f6042d.js" as="script"><link rel="preload" href="/assets/js/2.0e0d002b.js" as="script"><link rel="preload" href="/assets/js/11.16c75b18.js" as="script"><link rel="prefetch" href="/assets/js/10.e2d75cb0.js"><link rel="prefetch" href="/assets/js/12.95b24e15.js"><link rel="prefetch" href="/assets/js/13.ab78217c.js"><link rel="prefetch" href="/assets/js/14.9b5a733b.js"><link rel="prefetch" href="/assets/js/15.3090674b.js"><link rel="prefetch" href="/assets/js/3.bb82063e.js"><link rel="prefetch" href="/assets/js/4.ae66ff60.js"><link rel="prefetch" href="/assets/js/5.65e46f65.js"><link rel="prefetch" href="/assets/js/6.f6e221d7.js"><link rel="prefetch" href="/assets/js/7.a1fae7b8.js"><link rel="prefetch" href="/assets/js/8.4a5e940b.js"><link rel="prefetch" href="/assets/js/9.46c65101.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f9eb632a.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/EB-logo.png" alt="NaiveTomcat's blog" class="logo"> <span class="site-name can-hide">NaiveTomcat's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/categories/" class="nav-link">分类</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/friends/" class="nav-link">友链</a></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://avatars.githubusercontent.com/u/50436951"> <div class="blogger-info"><h3>NaiveTomcat</h3> <span>冰冻三尺，非一日之寒</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/categories/" class="nav-link">分类</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/friends/" class="nav-link">友链</a></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>在机械革命Umi Pro 3的Windows上安装tensorflow的踩坑记录（With RTX 3060 Laptop）</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/787b52/#前言" class="sidebar-link">前言</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/787b52/#anaconda大坑" class="sidebar-link">Anaconda大坑</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/787b52/#官方python的大坑" class="sidebar-link">官方Python的大坑</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/787b52/#微软商店python3-8-cuda-11-1安装流程-踩坑记录" class="sidebar-link">微软商店Python3.8 + CUDA 11.1安装流程（踩坑记录）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/787b52/#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/pages/787b52/#报错" class="sidebar-link">报错</a></li><li class="sidebar-sub-header"><a href="/pages/787b52/#解决" class="sidebar-link">解决</a></li></ul></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-33863c7e><div class="articleInfo" data-v-33863c7e><!----> <div class="info" data-v-33863c7e><div title="作者" class="author iconfont icon-touxiang" data-v-33863c7e><a href="https://github.com/NaiveTomcat" target="_blank" title="作者" class="beLink" data-v-33863c7e>NaiveTomcat</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-33863c7e><a href="javascript:;" data-v-33863c7e>2021-04-13</a></div> <div title="分类" class="date iconfont icon-wenjian" data-v-33863c7e><a href="/categories/?category=%E5%BC%80%E5%8F%91" data-v-33863c7e>开发 </a></div></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">
          在机械革命Umi Pro 3的Windows上安装tensorflow的踩坑记录（With RTX 3060 Laptop）
        </h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>本来打算在这个机子上装Arch跑开发的，然而因为Linux上糟糕的国内软件支持（上台机子上QQ for Linux/Wine QQ/Wine TIM就没跑起来连续超过10分钟过），以及放不下Microsoft Office，最终还是留在了Windows里面进行开发。</p> <p>最近刚好有个深度学习的活，那就顺便把TF装了吧，3060的算力肯定比我之前的2400G要好，我想。</p> <p>然后我就开始了这个踩坑之旅</p> <h2 id="anaconda大坑"><a href="#anaconda大坑" class="header-anchor">#</a> Anaconda大坑</h2> <p>本来我想用Anaconda装的，然而30系显卡只支持CUDA11，Anaconda上对Windows提供的最新TF版本是2.3.0（至少清华镜像源是这样），同时TF2.4+的版本才支持CUDA11。因此Anaconda的方案Pass。</p> <h2 id="官方python的大坑"><a href="#官方python的大坑" class="header-anchor">#</a> 官方Python的大坑</h2> <p>然后，我就下载了官方的python安装器。安装之后，我手贱执行了<code>python -m pip install -u pip</code>的操作，这个命令执行正常，但是等更新到<code>pip 21.0.1</code>之后，pip再装任何包用任何源都会报ssl错误。。。重装降级pip（从源码安装，因为pip已经不能用了）、重装python都不顶用。。。所以这个python算是废了。（不要问我为啥不手动安装，我懒得人工解析依赖，尤其是tf这种大包）</p> <h2 id="微软商店python3-8-cuda-11-1安装流程-踩坑记录"><a href="#微软商店python3-8-cuda-11-1安装流程-踩坑记录" class="header-anchor">#</a> 微软商店Python3.8 + CUDA 11.1安装流程（踩坑记录）</h2> <h3 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h3> <p>上面几个路子毙了之后，我从微软商店下了python3.8（之前还总是想执行python的时候给我弹出应用商店，现在知道好处了🤣）。这个python的pip意外的能用，于是我就进行了以下操作：</p> <ul><li>安装CUDA Toolkit 11.1</li> <li>安装cuDNN 8.0.4 for CUDA 11.1</li> <li>安装<code>tf-nightly-gpu</code></li></ul> <h3 id="报错"><a href="#报错" class="header-anchor">#</a> 报错</h3> <p>结果，当我执行下面用来验证Tensorflow能否正确使用GPU的代码时</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> tensorflow <span class="token keyword">as</span> tf
<span class="token keyword">print</span><span class="token punctuation">(</span>tf<span class="token punctuation">.</span>config<span class="token punctuation">.</span>list_physical_devices<span class="token punctuation">(</span><span class="token string">'GPU'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>报了以下错误</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>Python <span class="token number">3.8</span><span class="token number">.9</span> <span class="token punctuation">(</span>tags<span class="token operator">/</span>v3<span class="token punctuation">.</span><span class="token number">8.9</span><span class="token punctuation">:</span>a743f81<span class="token punctuation">,</span> Apr  <span class="token number">2</span> <span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">:</span><span class="token number">41</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>MSC v<span class="token punctuation">.</span><span class="token number">1928</span> <span class="token number">64</span> bit <span class="token punctuation">(</span>AMD64<span class="token punctuation">)</span><span class="token punctuation">]</span> on win32
Type <span class="token string">&quot;help&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;copyright&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;credits&quot;</span> <span class="token keyword">or</span> <span class="token string">&quot;license&quot;</span> <span class="token keyword">for</span> more information<span class="token punctuation">.</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">import</span> tensorflow <span class="token keyword">as</span> tf
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">17</span><span class="token punctuation">:</span><span class="token number">15.816771</span><span class="token punctuation">:</span> W tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">60</span><span class="token punctuation">]</span> Could <span class="token keyword">not</span> load dynamic library <span class="token string">'cudart64_110.dll'</span><span class="token punctuation">;</span> dlerror<span class="token punctuation">:</span> cudart64_110<span class="token punctuation">.</span>dll <span class="token keyword">not</span> found
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">17</span><span class="token punctuation">:</span><span class="token number">15.817103</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>cuda<span class="token operator">/</span>cudart_stub<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">29</span><span class="token punctuation">]</span> Ignore above cudart dlerror <span class="token keyword">if</span> you do n<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span>tf<span class="token punctuation">.</span>config<span class="token punctuation">.</span>list_physical_devices<span class="token punctuation">(</span><span class="token string">'GPU'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">17</span><span class="token punctuation">:</span><span class="token number">36.158492</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">49</span><span class="token punctuation">]</span> Successfully opened dynamic library nvcuda<span class="token punctuation">.</span>dll
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">17</span><span class="token punctuation">:</span><span class="token number">36.191206</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>core<span class="token operator">/</span>common_runtime<span class="token operator">/</span>gpu<span class="token operator">/</span>gpu_device<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">1770</span><span class="token punctuation">]</span> Found device <span class="token number">0</span> <span class="token keyword">with</span> properties<span class="token punctuation">:</span>
pciBusID<span class="token punctuation">:</span> <span class="token number">0000</span><span class="token punctuation">:</span><span class="token number">01</span><span class="token punctuation">:</span><span class="token number">00.0</span> name<span class="token punctuation">:</span> GeForce RTX <span class="token number">3060</span> Laptop GPU computeCapability<span class="token punctuation">:</span> <span class="token number">8.6</span>
coreClock<span class="token punctuation">:</span> <span class="token number">1.</span>425GHz coreCount<span class="token punctuation">:</span> <span class="token number">30</span> deviceMemorySize<span class="token punctuation">:</span> <span class="token number">6.</span>00GiB deviceMemoryBandwidth<span class="token punctuation">:</span> <span class="token number">312.</span>97GiB<span class="token operator">/</span>s
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">17</span><span class="token punctuation">:</span><span class="token number">36.191645</span><span class="token punctuation">:</span> W tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">60</span><span class="token punctuation">]</span> Could <span class="token keyword">not</span> load dynamic library <span class="token string">'cudart64_110.dll'</span><span class="token punctuation">;</span> dlerror<span class="token punctuation">:</span> cudart64_110<span class="token punctuation">.</span>dll <span class="token keyword">not</span> found
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">17</span><span class="token punctuation">:</span><span class="token number">36.191941</span><span class="token punctuation">:</span> W tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">60</span><span class="token punctuation">]</span> Could <span class="token keyword">not</span> load dynamic library <span class="token string">'cublas64_11.dll'</span><span class="token punctuation">;</span> dlerror<span class="token punctuation">:</span> cublas64_11<span class="token punctuation">.</span>dll <span class="token keyword">not</span> found
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">17</span><span class="token punctuation">:</span><span class="token number">36.192248</span><span class="token punctuation">:</span> W tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">60</span><span class="token punctuation">]</span> Could <span class="token keyword">not</span> load dynamic library <span class="token string">'cublasLt64_11.dll'</span><span class="token punctuation">;</span> dlerror<span class="token punctuation">:</span> cublasLt64_11<span class="token punctuation">.</span>dll <span class="token keyword">not</span> found
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">17</span><span class="token punctuation">:</span><span class="token number">36.192544</span><span class="token punctuation">:</span> W tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">60</span><span class="token punctuation">]</span> Could <span class="token keyword">not</span> load dynamic library <span class="token string">'cufft64_10.dll'</span><span class="token punctuation">;</span> dlerror<span class="token punctuation">:</span> cufft64_10<span class="token punctuation">.</span>dll <span class="token keyword">not</span> found
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">17</span><span class="token punctuation">:</span><span class="token number">36.192849</span><span class="token punctuation">:</span> W tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">60</span><span class="token punctuation">]</span> Could <span class="token keyword">not</span> load dynamic library <span class="token string">'curand64_10.dll'</span><span class="token punctuation">;</span> dlerror<span class="token punctuation">:</span> curand64_10<span class="token punctuation">.</span>dll <span class="token keyword">not</span> found
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">17</span><span class="token punctuation">:</span><span class="token number">36.193141</span><span class="token punctuation">:</span> W tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">60</span><span class="token punctuation">]</span> Could <span class="token keyword">not</span> load dynamic library <span class="token string">'cusolver64_10.dll'</span><span class="token punctuation">;</span> dlerror<span class="token punctuation">:</span> cusolver64_10<span class="token punctuation">.</span>dll <span class="token keyword">not</span> found
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">17</span><span class="token punctuation">:</span><span class="token number">36.193434</span><span class="token punctuation">:</span> W tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">60</span><span class="token punctuation">]</span> Could <span class="token keyword">not</span> load dynamic library <span class="token string">'cusparse64_11.dll'</span><span class="token punctuation">;</span> dlerror<span class="token punctuation">:</span> cusparse64_11<span class="token punctuation">.</span>dll <span class="token keyword">not</span> found
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">17</span><span class="token punctuation">:</span><span class="token number">36.193765</span><span class="token punctuation">:</span> W tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">60</span><span class="token punctuation">]</span> Could <span class="token keyword">not</span> load dynamic library <span class="token string">'cudnn64_8.dll'</span><span class="token punctuation">;</span> dlerror<span class="token punctuation">:</span> cudnn64_8<span class="token punctuation">.</span>dll <span class="token keyword">not</span> found
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">17</span><span class="token punctuation">:</span><span class="token number">36.193965</span><span class="token punctuation">:</span> W tensorflow<span class="token operator">/</span>core<span class="token operator">/</span>common_runtime<span class="token operator">/</span>gpu<span class="token operator">/</span>gpu_device<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">1803</span><span class="token punctuation">]</span> Cannot dlopen some GPU libraries<span class="token punctuation">.</span> Please make sure the missing libraries mentioned above are installed properly <span class="token keyword">if</span> you would like to use GPU<span class="token punctuation">.</span> Follow the guide at https<span class="token punctuation">:</span><span class="token operator">//</span>www<span class="token punctuation">.</span>tensorflow<span class="token punctuation">.</span>org<span class="token operator">/</span>install<span class="token operator">/</span>gpu <span class="token keyword">for</span> how to download <span class="token keyword">and</span> setup the required libraries <span class="token keyword">for</span> your platform<span class="token punctuation">.</span>
Skipping registering GPU devices<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>我当时就懵了。。。我明明安了CUDA和cuDNN，为啥你就是找不到dll呢？</p> <p>为了以防万一，我重新检查了<code>%PATH%</code>环境变量，加上了cuDNN的bin文件夹，重启电脑，打开python，执行测试代码</p> <p>然后它又报了一样的错。。。</p> <h3 id="解决"><a href="#解决" class="header-anchor">#</a> 解决</h3> <p>那本着既然你不到我这来找，我把你要找的东西放到某个你一定会去找的地方的指导思想，我把<code>CUDA/bin</code>目录下的东西和cuDNN的bin目录下的东西全都复制到<code>System32</code>文件夹里面了，这回错误信息少了不少：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>Python <span class="token number">3.8</span><span class="token number">.9</span> <span class="token punctuation">(</span>tags<span class="token operator">/</span>v3<span class="token punctuation">.</span><span class="token number">8.9</span><span class="token punctuation">:</span>a743f81<span class="token punctuation">,</span> Apr  <span class="token number">2</span> <span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">:</span><span class="token number">41</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>MSC v<span class="token punctuation">.</span><span class="token number">1928</span> <span class="token number">64</span> bit <span class="token punctuation">(</span>AMD64<span class="token punctuation">)</span><span class="token punctuation">]</span> on win32
Type <span class="token string">&quot;help&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;copyright&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;credits&quot;</span> <span class="token keyword">or</span> <span class="token string">&quot;license&quot;</span> <span class="token keyword">for</span> more information<span class="token punctuation">.</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">import</span> tensorflow <span class="token keyword">as</span> tf
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">21</span><span class="token punctuation">:</span><span class="token number">59.188311</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">49</span><span class="token punctuation">]</span> Successfully opened dynamic <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span>tf<span class="token punctuation">.</span>config<span class="token punctuation">.</span>list_physical_devices<span class="token punctuation">(</span><span class="token string">'GPU'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">22</span><span class="token punctuation">:</span><span class="token number">02.619845</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">49</span><span class="token punctuation">]</span> Successfully opened dynamic library nvcuda<span class="token punctuation">.</span>dll
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">22</span><span class="token punctuation">:</span><span class="token number">02.652104</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>core<span class="token operator">/</span>common_runtime<span class="token operator">/</span>gpu<span class="token operator">/</span>gpu_device<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">1770</span><span class="token punctuation">]</span> Found device <span class="token number">0</span> <span class="token keyword">with</span> properties<span class="token punctuation">:</span>
pciBusID<span class="token punctuation">:</span> <span class="token number">0000</span><span class="token punctuation">:</span><span class="token number">01</span><span class="token punctuation">:</span><span class="token number">00.0</span> name<span class="token punctuation">:</span> GeForce RTX <span class="token number">3060</span> Laptop GPU computeCapability<span class="token punctuation">:</span> <span class="token number">8.6</span>
coreClock<span class="token punctuation">:</span> <span class="token number">1.</span>425GHz coreCount<span class="token punctuation">:</span> <span class="token number">30</span> deviceMemorySize<span class="token punctuation">:</span> <span class="token number">6.</span>00GiB deviceMemoryBandwidth<span class="token punctuation">:</span> <span class="token number">312.</span>97GiB<span class="token operator">/</span>s
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">22</span><span class="token punctuation">:</span><span class="token number">02.652388</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">49</span><span class="token punctuation">]</span> Successfully opened dynamic library cudart64_110<span class="token punctuation">.</span>dll
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">22</span><span class="token punctuation">:</span><span class="token number">02.657192</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">49</span><span class="token punctuation">]</span> Successfully opened dynamic library cublas64_11<span class="token punctuation">.</span>dll
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">22</span><span class="token punctuation">:</span><span class="token number">02.657277</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">49</span><span class="token punctuation">]</span> Successfully opened dynamic library cublasLt64_11<span class="token punctuation">.</span>dll
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">22</span><span class="token punctuation">:</span><span class="token number">02.660691</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">49</span><span class="token punctuation">]</span> Successfully opened dynamic library cufft64_10<span class="token punctuation">.</span>dll
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">22</span><span class="token punctuation">:</span><span class="token number">02.661647</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">49</span><span class="token punctuation">]</span> Successfully opened dynamic library curand64_10<span class="token punctuation">.</span>dll
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">22</span><span class="token punctuation">:</span><span class="token number">02.661944</span><span class="token punctuation">:</span> W tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">60</span><span class="token punctuation">]</span> Could <span class="token keyword">not</span> load dynamic library <span class="token string">'cusolver64_10.dll'</span><span class="token punctuation">;</span> dlerror<span class="token punctuation">:</span> cusolver64_10<span class="token punctuation">.</span>dll <span class="token keyword">not</span> found
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">22</span><span class="token punctuation">:</span><span class="token number">02.664136</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">49</span><span class="token punctuation">]</span> Successfully opened dynamic library cusparse64_11<span class="token punctuation">.</span>dll
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">22</span><span class="token punctuation">:</span><span class="token number">02.666277</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">49</span><span class="token punctuation">]</span> Successfully opened dynamic library cudnn64_8<span class="token punctuation">.</span>dll
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">22</span><span class="token punctuation">:</span><span class="token number">02.666505</span><span class="token punctuation">:</span> W tensorflow<span class="token operator">/</span>core<span class="token operator">/</span>common_runtime<span class="token operator">/</span>gpu<span class="token operator">/</span>gpu_device<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">1803</span><span class="token punctuation">]</span> Cannot dlopen some GPU libraries<span class="token punctuation">.</span> Please make sure the missing libraries mentioned above are installed properly <span class="token keyword">if</span> you would like to use GPU<span class="token punctuation">.</span> Follow the guide at https<span class="token punctuation">:</span><span class="token operator">//</span>www<span class="token punctuation">.</span>tensorflow<span class="token punctuation">.</span>org<span class="token operator">/</span>install<span class="token operator">/</span>gpu <span class="token keyword">for</span> how to download <span class="token keyword">and</span> setup the required libraries <span class="token keyword">for</span> your platform<span class="token punctuation">.</span>
Skipping registering GPU devices<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>可以看到是少了<code>cusolver64_10.dll</code>的问题。因为CUDA 11.0有这个文件，11.1没有，而官方的tf又是在11.0上构建的，因此会出现这个问题。解决方案也很简单，一行powershell搞定：</p> <div class="language-powershell line-numbers-mode"><pre class="language-powershell"><code><span class="token function">PS</span> C:\Windows\system32&gt; <span class="token function">New-Item</span> <span class="token operator">-</span>ItemType SymbolicLink <span class="token operator">-</span>Path <span class="token punctuation">.</span>\cusolver64_10<span class="token punctuation">.</span>dll <span class="token operator">-</span>Target <span class="token punctuation">.</span>\cusolver64_11<span class="token punctuation">.</span>dll
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>创建一个名为<code>cusolver64_10.dll</code>的符号链接，指向<code>cusolver64_11.dll</code>就可以了。</p> <p>最终效果：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>Python <span class="token number">3.8</span><span class="token number">.9</span> <span class="token punctuation">(</span>tags<span class="token operator">/</span>v3<span class="token punctuation">.</span><span class="token number">8.9</span><span class="token punctuation">:</span>a743f81<span class="token punctuation">,</span> Apr  <span class="token number">2</span> <span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">:</span><span class="token number">41</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>MSC v<span class="token punctuation">.</span><span class="token number">1928</span> <span class="token number">64</span> bit <span class="token punctuation">(</span>AMD64<span class="token punctuation">)</span><span class="token punctuation">]</span> on win32
Type <span class="token string">&quot;help&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;copyright&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;credits&quot;</span> <span class="token keyword">or</span> <span class="token string">&quot;license&quot;</span> <span class="token keyword">for</span> more information<span class="token punctuation">.</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">import</span> tensorflow <span class="token keyword">as</span> tf
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">:</span><span class="token number">46.888229</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">49</span><span class="token punctuation">]</span> Successfully opened dynamic library cudart64_110<span class="token punctuation">.</span>dll
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span>tf<span class="token punctuation">.</span>config<span class="token punctuation">.</span>list_physical_devices<span class="token punctuation">(</span><span class="token string">'GPU'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">:</span><span class="token number">49.604479</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">49</span><span class="token punctuation">]</span> Successfully opened dynamic library nvcuda<span class="token punctuation">.</span>dll
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">:</span><span class="token number">49.635657</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>core<span class="token operator">/</span>common_runtime<span class="token operator">/</span>gpu<span class="token operator">/</span>gpu_device<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">1770</span><span class="token punctuation">]</span> Found device <span class="token number">0</span> <span class="token keyword">with</span> properties<span class="token punctuation">:</span>
pciBusID<span class="token punctuation">:</span> <span class="token number">0000</span><span class="token punctuation">:</span><span class="token number">01</span><span class="token punctuation">:</span><span class="token number">00.0</span> name<span class="token punctuation">:</span> GeForce RTX <span class="token number">3060</span> Laptop GPU computeCapability<span class="token punctuation">:</span> <span class="token number">8.6</span>
coreClock<span class="token punctuation">:</span> <span class="token number">1.</span>425GHz coreCount<span class="token punctuation">:</span> <span class="token number">30</span> deviceMemorySize<span class="token punctuation">:</span> <span class="token number">6.</span>00GiB deviceMemoryBandwidth<span class="token punctuation">:</span> <span class="token number">312.</span>97GiB<span class="token operator">/</span>s
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">:</span><span class="token number">49.635911</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">49</span><span class="token punctuation">]</span> Successfully opened dynamic library cudart64_110<span class="token punctuation">.</span>dll
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">:</span><span class="token number">49.640891</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">49</span><span class="token punctuation">]</span> Successfully opened dynamic library cublas64_11<span class="token punctuation">.</span>dll
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">:</span><span class="token number">49.641096</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">49</span><span class="token punctuation">]</span> Successfully opened dynamic library cublasLt64_11<span class="token punctuation">.</span>dll
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">:</span><span class="token number">49.644103</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">49</span><span class="token punctuation">]</span> Successfully opened dynamic library cufft64_10<span class="token punctuation">.</span>dll
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">:</span><span class="token number">49.645155</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">49</span><span class="token punctuation">]</span> Successfully opened dynamic library curand64_10<span class="token punctuation">.</span>dll
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">:</span><span class="token number">49.656521</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">49</span><span class="token punctuation">]</span> Successfully opened dynamic library cusolver64_10<span class="token punctuation">.</span>dll
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">:</span><span class="token number">49.658909</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">49</span><span class="token punctuation">]</span> Successfully opened dynamic library cusparse64_11<span class="token punctuation">.</span>dll
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">:</span><span class="token number">49.659487</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>stream_executor<span class="token operator">/</span>platform<span class="token operator">/</span>default<span class="token operator">/</span>dso_loader<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">49</span><span class="token punctuation">]</span> Successfully opened dynamic library cudnn64_8<span class="token punctuation">.</span>dll
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">:</span><span class="token number">49.659695</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>core<span class="token operator">/</span>common_runtime<span class="token operator">/</span>gpu<span class="token operator">/</span>gpu_device<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">1908</span><span class="token punctuation">]</span> Adding visible gpu devices<span class="token punctuation">:</span> <span class="token number">0</span>
<span class="token punctuation">[</span>PhysicalDevice<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'/physical_device:GPU:0'</span><span class="token punctuation">,</span> device_type<span class="token operator">=</span><span class="token string">'GPU'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> tf<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>numpy<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">24</span><span class="token punctuation">:</span><span class="token number">04.083467</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>core<span class="token operator">/</span>platform<span class="token operator">/</span>cpu_feature_guard<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">142</span><span class="token punctuation">]</span> This TensorFlow binary <span class="token keyword">is</span> optimized <span class="token keyword">with</span> oneAPI Deep Neural Network Library <span class="token punctuation">(</span>oneDNN<span class="token punctuation">)</span> to use the following CPU instructions <span class="token keyword">in</span> performance<span class="token operator">-</span>critical operations<span class="token punctuation">:</span>  AVX2
To enable them <span class="token keyword">in</span> other operations<span class="token punctuation">,</span> rebuild TensorFlow <span class="token keyword">with</span> the appropriate compiler flags<span class="token punctuation">.</span>
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">24</span><span class="token punctuation">:</span><span class="token number">04.084871</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>core<span class="token operator">/</span>common_runtime<span class="token operator">/</span>gpu<span class="token operator">/</span>gpu_device<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">1770</span><span class="token punctuation">]</span> Found device <span class="token number">0</span> <span class="token keyword">with</span> properties<span class="token punctuation">:</span>
pciBusID<span class="token punctuation">:</span> <span class="token number">0000</span><span class="token punctuation">:</span><span class="token number">01</span><span class="token punctuation">:</span><span class="token number">00.0</span> name<span class="token punctuation">:</span> GeForce RTX <span class="token number">3060</span> Laptop GPU computeCapability<span class="token punctuation">:</span> <span class="token number">8.6</span>
coreClock<span class="token punctuation">:</span> <span class="token number">1.</span>425GHz coreCount<span class="token punctuation">:</span> <span class="token number">30</span> deviceMemorySize<span class="token punctuation">:</span> <span class="token number">6.</span>00GiB deviceMemoryBandwidth<span class="token punctuation">:</span> <span class="token number">312.</span>97GiB<span class="token operator">/</span>s
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">24</span><span class="token punctuation">:</span><span class="token number">04.085181</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>core<span class="token operator">/</span>common_runtime<span class="token operator">/</span>gpu<span class="token operator">/</span>gpu_device<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">1908</span><span class="token punctuation">]</span> Adding visible gpu devices<span class="token punctuation">:</span> <span class="token number">0</span>
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">24</span><span class="token punctuation">:</span><span class="token number">04.574965</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>core<span class="token operator">/</span>common_runtime<span class="token operator">/</span>gpu<span class="token operator">/</span>gpu_device<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">1300</span><span class="token punctuation">]</span> Device interconnect StreamExecutor <span class="token keyword">with</span> strength <span class="token number">1</span> edge matrix<span class="token punctuation">:</span>
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">24</span><span class="token punctuation">:</span><span class="token number">04.575224</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>core<span class="token operator">/</span>common_runtime<span class="token operator">/</span>gpu<span class="token operator">/</span>gpu_device<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">1306</span><span class="token punctuation">]</span>      <span class="token number">0</span>
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">24</span><span class="token punctuation">:</span><span class="token number">04.575554</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>core<span class="token operator">/</span>common_runtime<span class="token operator">/</span>gpu<span class="token operator">/</span>gpu_device<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">1319</span><span class="token punctuation">]</span> <span class="token number">0</span><span class="token punctuation">:</span>   N
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">24</span><span class="token punctuation">:</span><span class="token number">04.576003</span><span class="token punctuation">:</span> I tensorflow<span class="token operator">/</span>core<span class="token operator">/</span>common_runtime<span class="token operator">/</span>gpu<span class="token operator">/</span>gpu_device<span class="token punctuation">.</span>cc<span class="token punctuation">:</span><span class="token number">1456</span><span class="token punctuation">]</span> Created TensorFlow device <span class="token punctuation">(</span><span class="token operator">/</span>job<span class="token punctuation">:</span>localhost<span class="token operator">/</span>replica<span class="token punctuation">:</span><span class="token number">0</span><span class="token operator">/</span>task<span class="token punctuation">:</span><span class="token number">0</span><span class="token operator">/</span>device<span class="token punctuation">:</span>GPU<span class="token punctuation">:</span><span class="token number">0</span> <span class="token keyword">with</span> <span class="token number">3497</span> MB memory<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> physical GPU <span class="token punctuation">(</span>device<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> GeForce RTX <span class="token number">3060</span> Laptop GPU<span class="token punctuation">,</span> pci bus <span class="token builtin">id</span><span class="token punctuation">:</span> <span class="token number">0000</span><span class="token punctuation">:</span><span class="token number">01</span><span class="token punctuation">:</span><span class="token number">00.0</span><span class="token punctuation">,</span> compute capability<span class="token punctuation">:</span> <span class="token number">8.6</span><span class="token punctuation">)</span>
<span class="token number">3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>能读到GPU，能算东西，完工</p></div></div> <!----> <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=%E5%BC%80%E5%8F%91" title="标签">#开发</a><a href="/tags/?tag=Python" title="标签">#Python</a><a href="/tags/?tag=TensorFlow" title="标签">#TensorFlow</a><a href="/tags/?tag=CUDA" title="标签">#CUDA</a></div> <!----></div> <div class="page-nav-wapper"><!----> <!----></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/0a65b4/"><div>DN42网络Peer信息</div></a> <span>05-08</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/05c9b1/"><div>小米路由器3G安装openwrt的折腾记录</div></a> <span>04-21</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/c26a43/"><div>博客重启</div></a> <span>04-12</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:tomdang@naivetomcat.cn" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/NaiveTomcat" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2021
    <span>NaiveTomcat | MIT License | <a href="https://icp.gov.moe" target="_blank">萌ICP备 </a><a href="https://icp.gov.moe/?keyword=20212004" target="_blank"> 20212004号</a> | <a href="http://beian.miit.gov.cn/" target="_blank">陕ICP备20002453号</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">跟随系统</li><li class="iconfont icon-rijianmoshi">浅色模式</li><li class="iconfont icon-yejianmoshi">深色模式</li><li class="iconfont icon-yuedu">阅读模式</li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.c7f6042d.js" defer></script><script src="/assets/js/2.0e0d002b.js" defer></script><script src="/assets/js/11.16c75b18.js" defer></script>
  </body>
</html>